(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[18],{1406:function(e,a,t){"use strict";var l=t(0),o=l.createContext();a.a=o},1407:function(e,a,t){"use strict";var l=t(0),o=l.createContext();a.a=o},1425:function(e,a,t){"use strict";var l=t(6),o=t(1),n=t(0),i=(t(3),t(7)),r=t(9),c=t(1407),s=n.forwardRef((function(e,a){var t=e.classes,r=e.className,s=e.component,d=void 0===s?"table":s,m=e.padding,p=void 0===m?"default":m,u=e.size,b=void 0===u?"medium":u,h=e.stickyHeader,v=void 0!==h&&h,g=Object(l.a)(e,["classes","className","component","padding","size","stickyHeader"]),f=n.useMemo((function(){return{padding:p,size:b,stickyHeader:v}}),[p,b,v]);return n.createElement(c.a.Provider,{value:f},n.createElement(d,Object(o.a)({role:"table"===d?null:"table",ref:a,className:Object(i.a)(t.root,r,v&&t.stickyHeader)},g)))}));a.a=Object(r.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(o.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(s)},1426:function(e,a,t){"use strict";var l=t(1),o=t(6),n=t(0),i=(t(3),t(7)),r=t(9),c=t(1406),s={variant:"head"},d=n.forwardRef((function(e,a){var t=e.classes,r=e.className,d=e.component,m=void 0===d?"thead":d,p=Object(o.a)(e,["classes","className","component"]);return n.createElement(c.a.Provider,{value:s},n.createElement(m,Object(l.a)({className:Object(i.a)(t.root,r),ref:a,role:"thead"===m?null:"rowgroup"},p)))}));a.a=Object(r.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(d)},1427:function(e,a,t){"use strict";var l=t(1),o=t(6),n=t(0),i=(t(3),t(7)),r=t(9),c=t(1406),s=t(14),d=n.forwardRef((function(e,a){var t=e.classes,r=e.className,s=e.component,d=void 0===s?"tr":s,m=e.hover,p=void 0!==m&&m,u=e.selected,b=void 0!==u&&u,h=Object(o.a)(e,["classes","className","component","hover","selected"]),v=n.useContext(c.a);return n.createElement(d,Object(l.a)({ref:a,className:Object(i.a)(t.root,r,v&&{head:t.head,footer:t.footer}[v.variant],p&&t.hover,b&&t.selected),role:"tr"===d?null:"row"},h))}));a.a=Object(r.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(s.d)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},1428:function(e,a,t){"use strict";var l=t(6),o=t(1),n=t(0),i=(t(3),t(7)),r=t(9),c=t(11),s=t(14),d=t(1407),m=t(1406),p=n.forwardRef((function(e,a){var t,r,s=e.align,p=void 0===s?"inherit":s,u=e.classes,b=e.className,h=e.component,v=e.padding,g=e.scope,f=e.size,E=e.sortDirection,x=e.variant,C=Object(l.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),y=n.useContext(d.a),N=n.useContext(m.a),D=N&&"head"===N.variant;h?(r=h,t=D?"columnheader":"cell"):r=D?"th":"td";var S=g;!S&&D&&(S="col");var j=v||(y&&y.padding?y.padding:"default"),O=f||(y&&y.size?y.size:"medium"),w=x||N&&N.variant,q=null;return E&&(q="asc"===E?"ascending":"descending"),n.createElement(r,Object(o.a)({ref:a,className:Object(i.a)(u.root,u[w],b,"inherit"!==p&&u["align".concat(Object(c.a)(p))],"default"!==j&&u["padding".concat(Object(c.a)(j))],"medium"!==O&&u["size".concat(Object(c.a)(O))],"head"===w&&y&&y.stickyHeader&&u.stickyHeader),"aria-sort":q,role:t,scope:S},C))}));a.a=Object(r.a)((function(e){return{root:Object(o.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(s.i)(Object(s.d)(e.palette.divider,1),.88):Object(s.a)(Object(s.d)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(p)},1429:function(e,a,t){"use strict";var l=t(1),o=t(6),n=t(0),i=(t(3),t(7)),r=t(9),c=t(1406),s={variant:"body"},d=n.forwardRef((function(e,a){var t=e.classes,r=e.className,d=e.component,m=void 0===d?"tbody":d,p=Object(o.a)(e,["classes","className","component"]);return n.createElement(c.a.Provider,{value:s},n.createElement(m,Object(l.a)({className:Object(i.a)(t.root,r),ref:a,role:"tbody"===m?null:"rowgroup"},p)))}));a.a=Object(r.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(d)},2108:function(e,a,t){"use strict";t.r(a);var l=t(148),o=t.n(l),n=t(201),i=t(0),r=t.n(i),c=t(30),s=t(35),d=t(1322),m=t(351),p=t(52),u=t(1388),b=t(445),h=t(1425),v=t(1426),g=t(1427),f=t(1428),E=t(1429),x=t(1391),C=t(1396),y=t(1400),N=t(149);class D extends i.Component{constructor(...e){var a;super(...e),a=this,this.state={nome:"",idaula:this.props.location.state.aula.idaula,descricao:"",contasDebito:[],contasCredito:[],movimentacaoDebito:[],movimentacaoCredito:[],totalDebito:0,totalCredito:0,historico:""},this.handleSubmit=function(){var e=Object(n.a)(o.a.mark((function e(t){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(l=a.state).usuario_inclusao=a.props.user.idusuario,l.idprofessor_responsavel=a.props.user.idusuario,delete l.contasCredito,delete l.contasDebito,e.next=8,N.a.post("storeExercicio",l);case 8:e.sent,a.props.history.push("/dashboard/detalhesAula",{aula:a.props.location.state.aula});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),this.handleChange=e=>{if(["nomeContaDebito","valorDebito","quantidadeDebito","valorInicialDebito"].includes(e.target.className)){let l=[...this.state.movimentacaoDebito];l[e.target.dataset.id][e.target.className]=e.target.value,this.setState({movimentacaoDebito:l},()=>console.log("Debito",this.state.movimentacaoCredito));var a=0,t=[];this.state.movimentacaoDebito.forEach(e=>{e.quantidadeDebito||(e.quantidadeDebito=1),e.valorInicialDebito||(e.valorInicialDebito=0),e.valorDebito&&e.quantidadeDebito&&(t=[...t,e.valorDebito*e.quantidadeDebito]),e.isDebito=!0}),0!=(a=t.reduce((e,a)=>e+a,0))&&this.setState({totalDebito:a})}else if(["nomeContaCredito","valorCredito","quantidadeCredito","valorInicialCredito"].includes(e.target.className)){let l=[...this.state.movimentacaoCredito];l[e.target.dataset.id][e.target.className]=e.target.value,this.setState({movimentacaoCredito:l},()=>console.log("Credito",this.state.movimentacaoCredito));a=0,t=[];this.state.movimentacaoCredito.forEach(e=>{e.quantidadeCredito||(e.quantidadeCredito=1),e.valorInicialCredito||(e.valorInicialCredito=0),e.valorCredito&&e.quantidadeCredito&&(t=[...t,e.valorCredito*e.quantidadeCredito]),e.isDebito=!1}),0!=(a=t.reduce((e,a)=>e+a,0))&&this.setState({totalCredito:a})}else this.setState({[e.target.name]:e.target.value})},this.onDebitoChange=(e,a)=>{this.setState({movimentacaoDebito:[...this.state.movimentacaoDebito,a]})},this.onCreditoChange=(e,a)=>{this.setState({movimentacaoCredito:[...this.state.movimentacaoCredito,a]})}}componentDidMount(){var e=this;return Object(n.a)(o.a.mark((function a(){var t,l,n,i,r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.get("getPlanoDeContasPai");case 2:return t=a.sent,a.next=5,N.a.get("getPlanoDeContasAula/".concat(e.props.location.state.aula.idaula));case 5:l=a.sent,n=[],i=[],t.data.forEach(e=>{"D"==e.tipo?n.push(e):i.push(e)}),r=[...l.data,...n,...i],c=[...l.data,...i,...n],e.setState({contasDebito:r}),e.setState({contasCredito:c});case 13:case"end":return a.stop()}}),a)})))()}render(){let e=this.state,a=e.nome,t=e.descricao,l=e.contasDebito,o=e.contasCredito,n=e.movimentacaoCredito,i=e.movimentacaoDebito,c=e.totalDebito,s=e.totalCredito,d=e.historico;return r.a.createElement("div",{className:"m-sm-30"},r.a.createElement("div",{className:"mb-sm-30"},r.a.createElement(m.a,{routeSegments:[{name:"Meus Cursos",path:"/dashboard/analytics"},{name:"Detalhes de curso",path:"/dashboard/detalhesCurso"},{name:"Detalhes de aula",path:"/dashboard/detalhesAula"},{name:"Cria\xe7\xe3o de exerc\xedcio"}]})),r.a.createElement(m.i,{title:"Cria\xe7\xe3o de exerc\xedcio"},r.a.createElement("div",null,r.a.createElement(p.ValidatorForm,{ref:"form",onSubmit:this.handleSubmit,onChange:this.handleChange,onError:e=>null},r.a.createElement(u.a,{container:!0,spacing:6},r.a.createElement(u.a,{item:!0,lg:12,md:12,sm:12,xs:12},r.a.createElement(p.TextValidator,{className:"mb-4 w-full",label:"T\xedtulo",type:"text",name:"nome",value:a}))),r.a.createElement(u.a,{item:!0,lg:12,md:12,sm:12,xs:12},r.a.createElement(p.TextValidator,{className:"mb-4 w-full",label:"Descri\xe7\xe3o",type:"text",name:"descricao",value:t})),r.a.createElement(u.a,{style:{marginBottom:20},item:!0,lg:12,md:12,sm:12,xs:12},r.a.createElement(p.TextValidator,{className:"mb-4 w-full",label:"Hist\xf3rico",type:"text",name:"historico",value:d})),r.a.createElement(u.a,{container:!0,style:{flexDirection:"row",justifyContent:"space-between"},item:!0,lg:12,md:12,sm:12,xs:12,spacing:6},r.a.createElement(u.a,{item:!0,item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement(u.a,{container:!0,style:{flexDirection:"row",justifyContent:"space-between"},spacing:1,item:!0},r.a.createElement(u.a,{item:!0,lg:8,md:8,sm:8,xs:8},r.a.createElement(y.a,{className:"mb-6 w-full",options:l,onChange:this.onDebitoChange,name:"tipo",getOptionLabel:e=>e.nome,renderInput:e=>r.a.createElement(b.a,Object.assign({},e,{label:"Conta(s) D\xe9bito",variant:"outlined",placeholder:"Adicione uma conta d\xe9bito.",fullWidth:!0}))})),r.a.createElement(u.a,{item:!0,lg:4,md:4,sm:4,xs:4},r.a.createElement(b.a,{value:c,label:"Total D\xe9bito",variant:"outlined",fullWidth:!0}))),i.length>0?r.a.createElement("div",{style:{border:"1px solid #cecece",marginBottom:20,borderRadius:3},className:"overflow-auto"},r.a.createElement(h.a,{className:"product-table"},r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"px-6",colSpan:4},"Conta"),r.a.createElement(f.a,{className:"px-0",colSpan:2},"Valor Unit\xe1rio"),r.a.createElement(f.a,{className:"px-0",colSpan:2},"Atributo"),r.a.createElement(f.a,{className:"px-0",colSpan:1},"Valor Inicial"))),r.a.createElement(E.a,null,i.map((e,a)=>{let t="valorDebito-".concat(a),l="quantidadeDebito-".concat(a),o="nomeContaDebito-".concat(a),n="valorInicial-".concat(a);return r.a.createElement(g.a,{key:a},e.isPlanoContasUsuario?r.a.createElement(f.a,{className:"px-0 capitalize",colSpan:4,align:"left"},e.nome):r.a.createElement(f.a,{style:S,className:"px-0 capitalize",colSpan:4,align:"left"},r.a.createElement("div",{style:O},r.a.createElement("div",{style:j},e.nome),r.a.createElement("input",{style:w,type:"text","data-id":a,name:o,id:o,value:i[a].name,placeholder:"Conta filha",className:"nomeContaDebito"}))),r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:2},r.a.createElement("input",{style:w,type:"text","data-id":a,name:t,id:t,value:i[a].name,placeholder:"Digite valor",className:"valorDebito"})),"quantitativo"==e.atributo?r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:2},r.a.createElement("input",{style:w,"data-id":a,name:l,id:l,value:i[a].name,placeholder:"Digite quantidade",className:"quantidadeDebito"})):r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:2},r.a.createElement("input",{disabled:!0,style:w,"data-id":a,name:l,id:l,value:i[a].name,placeholder:"N\xe3o quantitativo",className:"quantidadeDebito"})),e.isPlanoContasUsuario?r.a.createElement(f.a,{className:"px-0 capitalize",colSpan:4,align:"left",colSpan:1},"-"):r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:1},r.a.createElement("input",{"data-id":a,style:w,name:n,id:n,value:i[a].name,placeholder:"0",className:"valorInicialDebito"})))})))):r.a.createElement("div",null)),r.a.createElement(u.a,{item:!0,item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement(u.a,{container:!0,style:{flexDirection:"row",justifyContent:"space-between"},spacing:1,item:!0},r.a.createElement(u.a,{item:!0,lg:8,md:8,sm:8,xs:8},r.a.createElement(y.a,{className:"mb-6 w-full",options:o,onChange:this.onCreditoChange,name:"tipo",getOptionLabel:e=>e.nome,renderInput:e=>r.a.createElement(b.a,Object.assign({},e,{label:"Conta(s) Cr\xe9dito",variant:"outlined",placeholder:"Adicione uma conta cr\xe9dito.",fullWidth:!0}))})),r.a.createElement(u.a,{item:!0,lg:4,md:4,sm:4,xs:4},r.a.createElement(b.a,{value:s,label:"Total Cr\xe9dito",variant:"outlined",fullWidth:!0}))),n.length>0?r.a.createElement("div",{style:{border:"1px solid #cecece",marginBottom:20,borderRadius:3},className:"overflow-auto"},r.a.createElement(h.a,{className:"product-table"},r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"px-6",colSpan:4},"Conta"),r.a.createElement(f.a,{className:"px-0",colSpan:2},"Valor Unit\xe1rio"),r.a.createElement(f.a,{className:"px-0",colSpan:2},"Quantidade"),r.a.createElement(f.a,{className:"px-0",colSpan:1},"Valor Inicial"))),r.a.createElement(E.a,null,n.map((e,a)=>{let t="valorCredito-".concat(a),l="quantidadeCredito-".concat(a),o="nomeContaCredito-".concat(a),i="valorInicial-".concat(a);return r.a.createElement(g.a,{key:a},e.isPlanoContasUsuario?r.a.createElement(f.a,{className:"px-0 capitalize",colSpan:4,align:"left"},e.nome):r.a.createElement(f.a,{style:S,className:"px-0 capitalize",colSpan:4,align:"left"},r.a.createElement("div",{style:O},r.a.createElement("div",{style:j},e.nome),r.a.createElement("input",{style:w,type:"text","data-id":a,name:o,id:o,value:n[a].name,placeholder:"Conta filha",className:"nomeContaCredito"}))),r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:2},r.a.createElement("input",{style:w,type:"text","data-id":a,name:t,id:t,value:n[a].name,className:"valorCredito"})),"quantitativo"==e.atributo?r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:2},r.a.createElement("input",{style:w,"data-id":a,name:l,id:l,value:n[a].name,className:"quantidadeCredito",placeholder:"Digite a quantidade"})):r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:2},r.a.createElement("input",{disabled:!0,style:w,"data-id":a,name:l,id:l,value:n[a].name,className:"quantidadeCredito",placeholder:"N\xe3o quantitativo"})),e.isPlanoContasUsuario?r.a.createElement(f.a,{className:"px-0 capitalize",colSpan:4,align:"left",colSpan:1},"-"):r.a.createElement(f.a,{style:S,className:"px-0",align:"left",colSpan:1},r.a.createElement("input",{"data-id":a,style:w,name:i,id:i,value:n[a].name,placeholder:"0",className:"valorInicialCredito"})))})))):r.a.createElement("div",null))),r.a.createElement(x.a,{color:"primary",variant:"contained",type:"submit"},r.a.createElement(C.a,null,"send"),r.a.createElement("span",{className:"pl-2 capitalize"},"Criar"))))))}}const S={},j={fontSize:"13px",color:"#333"},O={display:"flex",flexDirection:"column"},w={border:"1px solid #cecece",borderRadius:3,padding:5,width:"80%"};a.default=Object(d.a)({},{withTheme:!0})(Object(c.g)(Object(s.b)(e=>({user:e.user}),{})(D)))}}]);
//# sourceMappingURL=18.1ae180a6.chunk.js.map